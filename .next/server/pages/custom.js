(()=>{var e={};e.id=241,e.ids=[220,241,636],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},996:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Mn:()=>h,db:()=>u,j2:()=>p,lU:()=>m,yA:()=>d});var a=s(6551),i=s(8444),n=s(6958),l=s(4337),o=e([a,i,n,l]);[a,i,n,l]=o.then?(await o)():o;let c={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},d=(0,a.getApps)().length?(0,a.getApp)():(0,a.initializeApp)(c),u=(0,l.getFirestore)(d),m=async e=>{let t=(0,l.doc)(u,"users",e);await (0,l.updateDoc)(t,{recipeCredits:(0,l.increment)(-1)})},p=(0,n.getAuth)(d),h=new n.GoogleAuthProvider;r()}catch(e){r(e)}})},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},1783:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>P,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>b});var a=s(3885),i=s(237),n=s(1413),l=s(3022),o=s(8198),c=s(6433),d=e([c]);c=(d.then?(await d)():d)[0];let u=(0,n.M)(c,"default"),m=(0,n.M)(c,"getStaticProps"),p=(0,n.M)(c,"getStaticPaths"),h=(0,n.M)(c,"getServerSideProps"),x=(0,n.M)(c,"config"),g=(0,n.M)(c,"reportWebVitals"),b=(0,n.M)(c,"unstable_getStaticProps"),y=(0,n.M)(c,"unstable_getStaticPaths"),f=(0,n.M)(c,"unstable_getStaticParams"),j=(0,n.M)(c,"unstable_getServerProps"),S=(0,n.M)(c,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/custom",pathname:"/custom",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});r()}catch(e){r(e)}})},1913:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{A:()=>c});var a=s(8732),i=s(6958),n=s(2015),l=s(996),o=e([i,l]);function c(){let[e,t]=(0,n.useState)(null),s=async()=>{try{await (0,i.signInWithPopup)(l.j2,l.Mn)}catch(e){console.error("Login failed:",e)}},r=async()=>{try{await (0,i.signOut)(l.j2),t(null)}catch(e){console.error("Logout failed:",e)}};return(0,a.jsx)("div",{className:"mt-10 text-center text-sm text-gray-700",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["\uD83D\uDC4B Hoş geldin, ",e.displayName||"Kullanıcı"]}),(0,a.jsx)("button",{onClick:r,className:"text-blue-600 underline mt-1",children:"\xc7ıkış Yap"})]}):(0,a.jsxs)("button",{onClick:s,className:"bg-white text-gray-800 font-semibold px-6 py-2 mt-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md flex items-center gap-2 mx-auto",children:[(0,a.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}),"Google ile Giriş Yap"]})})}[i,l]=o.then?(await o)():o,r()}catch(e){r(e)}})},1970:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{A:()=>c});var a=s(8732),i=s(2015),n=s(4337),l=s(996),o=e([n,l]);function c({selected:e,onSelect:t}){let[s,r]=(0,i.useState)(""),[o,c]=(0,i.useState)(null),[d,u]=(0,i.useState)([]),[m,p]=(0,i.useState)([]),[h,x]=(0,i.useState)(!1);(0,n.getFirestore)(l.yA);let g=Array.from(new Set(m.map(e=>e.category))),b=(s,r)=>{"Enter"!==s.key&&" "!==s.key||e.some(e=>e.id===r.id)||t(r)};return(0,a.jsx)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-gray-500 bg-opacity-75",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full max-h-[80vh] overflow-y-auto p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Malzeme Se\xe7"}),(0,a.jsx)("input",{type:"text",placeholder:"Ara...",value:s,onChange:e=>r(e.target.value),className:"border px-2 py-1 w-full mb-2"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>c(null),className:`px-3 py-1 rounded ${!o?"bg-gray-800 text-white":"bg-gray-100"}`,children:"T\xfcm Kategoriler"}),g.map(e=>(0,a.jsx)("button",{onClick:()=>c(e),className:`px-3 py-1 rounded ${o===e?"bg-gray-800 text-white":"bg-gray-100"}`,children:e},e))]}),h?(0,a.jsx)("div",{className:"text-center py-4",children:"Y\xfckleniyor..."}):(0,a.jsx)("ul",{className:"space-y-1",children:d.map(s=>(0,a.jsxs)("li",{onClick:()=>!e.some(e=>e.id===s.id)&&t(s),onKeyDown:e=>b(e,s),tabIndex:0,className:`cursor-pointer p-1 ${e.some(e=>e.id===s.id)?"bg-gray-200 cursor-not-allowed":"hover:bg-gray-100"}`,children:[s.emoji&&(0,a.jsx)("span",{style:{marginRight:"0.5rem"},children:s.emoji}),s.name.tr]},s.id))})]})})}[n,l]=o.then?(await o)():o,r()}catch(e){r(e)}})},2015:e=>{"use strict";e.exports=require("react")},3022:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(8732),a=s(2341),i=s.n(a);class n extends i(){render(){return(0,r.jsxs)(a.Html,{children:[(0,r.jsxs)(a.Head,{children:[(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Nunito:wght@700&family=Inter:wght@400&display=swap",rel:"stylesheet"}),(0,r.jsx)("link",{rel:"stylesheet",href:"/theme.css"})]}),(0,r.jsxs)("body",{children:[(0,r.jsx)(a.Main,{}),(0,r.jsx)(a.NextScript,{})]})]})}}},3465:()=>{},3873:e=>{"use strict";e.exports=require("path")},4337:e=>{"use strict";e.exports=import("firebase/firestore")},6433:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(8732),i=s(2015),n=s(1970),l=s(1913),o=s(4337),c=s(6958),d=s(996),u=e([n,l,o,c,d]);[n,l,o,c,d]=u.then?(await u)():u;let p=(0,o.getFirestore)(d.yA);function m(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),[m,h]=(0,i.useState)(null),[x,g]=(0,i.useState)(null),[b,y]=(0,i.useState)(0),[f,j]=(0,i.useState)("tumu"),[S,P]=(0,i.useState)(null),w=async()=>{if(u(!0),g(null),h(null),y(0),null!==S&&S<=0){window.location.href="/kredi-satin-al";return}try{let t=await fetch("/api/generate-recipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:e,cihazMarkasi:f})}),s=await t.json();if(!t.ok)throw Error(s.error||"Sunucu hatası");if(!s||!s.steps||!s.ingredients)throw Error("Tarif verisi eksik");if(h(s),null!==S&&S>0){let e=(0,c.getAuth)().currentUser;if(e){let t=(0,o.doc)(p,"users",e.uid);await (0,o.updateDoc)(t,{recipeCredits:S-1}),P(S-1)}}}catch(e){g(e.message||"Tarif oluşturulamadı.")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"p-6 min-h-screen bg-gradient-to-br from-yellow-50 to-green-100 text-gray-900",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Kendi Tarifini Oluştur"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4 max-h-24 overflow-y-auto",children:e.map(s=>(0,a.jsxs)("span",{className:"bg-gray-200 px-3 py-1 rounded-full text-sm flex items-center",children:[s.emoji," ",s.name.tr,(0,a.jsx)("button",{onClick:()=>t(e.filter(e=>e.id!==s.id)),className:"ml-2 text-red-600",children:"✕"})]},s.id))}),(0,a.jsx)("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded mb-4",children:"Malzeme Ekle"}),s&&(0,a.jsx)(n.A,{selected:e,onSelect:s=>{e.find(e=>e.id===s.id)||t([...e,s])},onClose:()=>r(!1)}),(0,a.jsx)("button",{onClick:w,disabled:d||0===e.length,className:"bg-green-600 text-white px-6 py-2 rounded shadow disabled:bg-gray-400",children:d?"Oluşturuluyor...":"Tarif Oluştur"}),x&&(0,a.jsxs)("p",{className:"text-red-600 mt-4",children:["Hata: ",x]}),m&&(0,a.jsx)("div",{className:"mt-6 bg-white p-6 rounded shadow",children:0===b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-2",children:["\uD83D\uDCCB ",m.title||"Başlık yok"]}),(0,a.jsx)("p",{className:"italic text-sm mb-2",children:m.summary||"\xd6zet yok"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"S\xfcre:"})," ",m.duration||"Belirtilmemiş"]}),(0,a.jsx)("h3",{className:"font-semibold mt-4",children:"Malzemeler:"}),(0,a.jsx)("ul",{className:"list-disc list-inside mb-4 max-h-32 overflow-y-auto",children:m.ingredients.map((e,t)=>(0,a.jsx)("li",{children:e},t))}),(0,a.jsx)("button",{onClick:()=>y(1),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Adımları G\xf6r"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["\uD83C\uDF73 Hazırlık Adımı ",b," / ",m.steps.length]}),(0,a.jsx)("p",{className:"mb-4",children:m.steps[b-1]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[b>1&&(0,a.jsx)("button",{onClick:()=>y(e=>e-1),className:"bg-gray-300 px-4 py-2 rounded",children:"Geri"}),b<m.steps.length?(0,a.jsx)("button",{onClick:()=>y(e=>e+1),className:"bg-green-600 text-white px-4 py-2 rounded",children:"Sonraki"}):(0,a.jsx)("button",{onClick:()=>y(0),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Baştan G\xf6ster"})]})]})}),(0,a.jsx)(l.A,{})]})}r()}catch(e){r(e)}})},6551:e=>{"use strict";e.exports=import("firebase/app")},6958:e=>{"use strict";e.exports=import("firebase/auth")},8198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(8732),a=s(2015);function i({Component:e,pageProps:t}){let[s,i]=(0,a.useState)("thermomix");return(0,r.jsx)(e,{...t})}s(3465)},8444:e=>{"use strict";e.exports=import("firebase/analytics")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[341],()=>s(1783));module.exports=r})();