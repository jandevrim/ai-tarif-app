(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{6783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(7876),i=s(4232),r=s(7627),l=s(2964),n=s(8600);let o=(0,l.aU)(n.yA);r.A;let d=e=>{var t,s,r;let{onNavigate:n}=e,[d,m]=(0,i.useState)([]),[c,u]=(0,i.useState)(null),[h,x]=(0,i.useState)("tumu"),[g,p]=(0,i.useState)(""),[b,y]=(0,i.useState)(0),N=async()=>{try{let e=(await (0,l.GG)((0,l.rJ)(o,"likedRecipes"))).docs.map(e=>{let t=e.data(),s=Array.isArray(t.steps)&&t.steps.every(e=>"string"==typeof e)?t.steps:"string"==typeof t.steps?t.steps.split(/\d+\.\s/).filter(Boolean).map(e=>e.trim()):[];return{id:e.id,title:t.title,summary:t.summary,duration:t.duration,ingredients:t.ingredients||[],steps:s,cihazMarkasi:t.cihazMarkasi,tarifDili:t.tarifDili,kullaniciTarifi:t.kullaniciTarifi,begeniSayisi:t.begeniSayisi,imageUrl:t.imageUrl,image:t.image}});m(e)}catch(e){console.error("Tarifler \xe7ekilirken hata oluştu:",e)}};(0,i.useEffect)(()=>{N()},[]);let f=d.filter(e=>{let t="tumu"===h||e.cihazMarkasi===h,s=e.title.toLowerCase().includes(g.toLowerCase())||e.ingredients.some(e=>e.toLowerCase().includes(g.toLowerCase()));return t&&s}),j=d.find(e=>e.id===c),_=(null==j?void 0:j.imageUrl)||(null==j?void 0:j.image)||null;return(0,a.jsxs)("div",{className:"p-6 min-h-screen bg-gradient-to-br from-yellow-50 to-green-100 text-gray-900 font-sans",children:[(0,a.jsx)("button",{onClick:()=>n("/landing"),className:"mb-4 bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-full text-sm shadow",children:"← Geri D\xf6n"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDC9A Harika Lezzetler Listesi"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"Tarif veya malzeme ara...",className:"mb-4 px-4 py-2 border border-gray-300 rounded w-full shadow-sm"}),(0,a.jsx)("div",{className:"mb-4 flex gap-2",children:["tumu","thermomix","thermogusto"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-full shadow-sm border ".concat(h===e?"bg-green-600 text-white":"bg-white text-gray-700"),children:"tumu"===e?"T\xfcm\xfc":"thermomix"===e?"Thermomix":"ThermoGusto"},e))}),c&&j?(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[_&&(0,a.jsx)("img",{src:_,alt:j.title,className:"w-full max-w-md mx-auto mb-4 rounded-lg border border-gray-200"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2 text-center",children:j.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1 text-center",children:["thermogusto"===j.cihazMarkasi?"ThermoGusto":"thermomix"===j.cihazMarkasi?"Thermomix":"Cihaz Bilinmiyor",j.duration?" • ".concat(j.duration):""]}),0===b?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mt-4 mb-2",children:"Malzemeler:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm mb-4",children:j.ingredients.map((e,t)=>(0,a.jsx)("li",{children:e},t))}),(0,a.jsxs)("p",{className:"text-sm italic text-gray-500",children:["Toplam adım sayısı: ",(null==(t=j.steps)?void 0:t.length)||0]})]}):(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-1",children:["Adım ",b,":"]}),(0,a.jsx)("p",{className:"text-sm",children:null==(s=j.steps)?void 0:s[b-1]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,a.jsx)("button",{onClick:()=>u(null),className:"text-sm text-gray-600 underline",children:"← Geri"}),(0,a.jsxs)("div",{className:"space-x-2",children:[b>0&&(0,a.jsx)("button",{onClick:()=>y(e=>e-1),className:"text-sm bg-gray-300 hover:bg-gray-400 px-3 py-1 rounded",children:"\xd6nceki"}),b<((null==(r=j.steps)?void 0:r.length)||0)&&(0,a.jsx)("button",{onClick:()=>y(e=>e+1),className:"text-sm bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded",children:0===b?"Hazırlık Adımlarına Ge\xe7":"Sonraki"})]})]})]}):(0,a.jsx)("ul",{className:"space-y-4",children:f.map(e=>(0,a.jsxs)("li",{className:"bg-white p-4 rounded-xl shadow-md cursor-pointer flex items-center gap-4",onClick:()=>{u(e.id),y(0)},children:[e.imageUrl&&(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-16 h-16 object-cover rounded-md border border-gray-200"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:e.title}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:["thermogusto"===e.cihazMarkasi?"ThermoGusto":"thermomix"===e.cihazMarkasi?"Thermomix":"Cihaz Bilinmiyor",e.duration?" • ".concat(e.duration):""]})]})]},e.id))})]})}},7308:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/liked-recipes",function(){return s(6783)}])},7627:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(7876),i=s(9917),r=s(4232),l=s(8600);function n(){let[e,t]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,i.xI)().onAuthStateChanged(e=>{t(e)});return()=>e()},[]);let s=async()=>{try{await (0,i.df)(l.j2,l.Mn)}catch(e){console.error("Login failed:",e)}},n=async()=>{try{await (0,i.CI)(l.j2),t(null)}catch(e){console.error("Logout failed:",e)}};return(0,a.jsx)("div",{className:"mt-10 text-center text-sm text-gray-700",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["\uD83D\uDC4B Hoş geldin, ",e.displayName||"Kullanıcı"]}),(0,a.jsx)("button",{onClick:n,className:"text-blue-600 underline mt-1",children:"\xc7ıkış Yap"})]}):(0,a.jsxs)("button",{onClick:s,className:"bg-white text-gray-800 font-semibold px-6 py-2 mt-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md flex items-center gap-2 mx-auto",children:[(0,a.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}),"Google ile Giriş Yap"]})})}},8600:(e,t,s)=>{"use strict";s.d(t,{Mn:()=>h,db:()=>m,j2:()=>u,lU:()=>c,yA:()=>d});var a=s(6042),i=s(9591),r=s(9917),l=s(2964),n=s(5364);let o={apiKey:n.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:n.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:n.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:n.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:n.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:n.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:n.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},d=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(o);(0,i.TT)().then(e=>{e&&(0,i.P5)(d)});let m=(0,l.aU)(d),c=async e=>{let t=(0,l.H9)(m,"users",e);await (0,l.mZ)(t,{recipeCredits:(0,l.GV)(-1)})},u=(0,r.xI)(d),h=new r.HF}},e=>{var t=t=>e(e.s=t);e.O(0,[671,329,205,636,593,792],()=>t(7308)),_N_E=e.O()}]);